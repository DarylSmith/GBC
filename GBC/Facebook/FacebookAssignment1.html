<html>
  <head>
      <title>Facebook</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.0/handlebars.min.js"></script>
<script>
    var obj = {};
    function statusChangeCallback(response) {
        console.log('statusChangeCallback');
        console.log(response);
        // The response object is returned with a status field that lets the
        // app know the current login status of the person.
        // Full docs on the response object can be found in the documentation
        // for FB.getLoginStatus().
        if (response.status === 'connected') {
            requestFBGraphData();

            requestFBGraphFeed();

            requestFBGraphAlbums();

        } else if (response.status === 'not_authorized') {
            // The person is logged into Facebook, but not your app.
            document.getElementById('status').innerHTML = 'Please log ' +
              'into this app.';
        } else {
            // The person is not logged into Facebook, so we're not sure if
            // they are logged into this app or not.
            document.getElementById('status').innerHTML = 'Please log ' +
              'into Facebook.';
        }
    }
    //https://developers.facebook.com
    //requests /me -- individual users
    ///me/albums?fields=photos
    ///me/home newsfeed
    /*
    /{user-id}/links shows only the links that were published by this person.
/{user-id}/posts shows only the posts that were published by this person.
/{user-id}/statuses shows only the status update posts that were published by this person.
/{user-id}/tagged shows only the posts that this person was tagged in.
*/
    /* get posts*/
    function requestFBGraphData() {
        FB.api("/nike/posts",
            {
                limit: 10,
                offset: 10
                //access_token: 'CAAWojAlzBZBwBAJU2ZAMxIdAAecezQXXKsQHDJuO0i8C44CIVtO82jQtQB9ohUbZCnJWgSSdhkWfUdb2b6K0HymooWfL5qfJIVsR9ZAXIadmfxJY8Tt0pP9LTrlYfkgKpORSchVQc44OwjXgmU5b5QvCKj5vRYzpe2ZAaLJIIti3wOgdF4eIOavwHFB3FEZA7ZCEQXo3hz6ILUddK3ksiKxpf4cZAQZB5Q2UZD'
            },
           function (response) {
               obj = response;


               var source = $("#fb-template").html();
               var template = Handlebars.compile(source);
               $("#fb-placeholder").html(template(response));


           });
    }


    function requestFBGraphAlbums() {
        FB.api("/nike/photos",
            {
                limit: 5
                //access_token: 'CAAWojAlzBZBwBAJU2ZAMxIdAAecezQXXKsQHDJuO0i8C44CIVtO82jQtQB9ohUbZCnJWgSSdhkWfUdb2b6K0HymooWfL5qfJIVsR9ZAXIadmfxJY8Tt0pP9LTrlYfkgKpORSchVQc44OwjXgmU5b5QvCKj5vRYzpe2ZAaLJIIti3wOgdF4eIOavwHFB3FEZA7ZCEQXo3hz6ILUddK3ksiKxpf4cZAQZB5Q2UZD'
            },
           function (response) {
               obj = response;


               console.log(response);


           });
    }

    function requestFBGraphFeed() {
        FB.api("/subway",
            {
                //access_token: 'CAAWojAlzBZBwBAJU2ZAMxIdAAecezQXXKsQHDJuO0i8C44CIVtO82jQtQB9ohUbZCnJWgSSdhkWfUdb2b6K0HymooWfL5qfJIVsR9ZAXIadmfxJY8Tt0pP9LTrlYfkgKpORSchVQc44OwjXgmU5b5QvCKj5vRYzpe2ZAaLJIIti3wOgdF4eIOavwHFB3FEZA7ZCEQXo3hz6ILUddK3ksiKxpf4cZAQZB5Q2UZD'
            },
           function (response) {
               obj = response;


               console.log(response);


           });
    }


    var login_event = function (response) {
        console.log("login_event");
        console.log(response.status);
        console.log(response);
    }


    /*
    function quertFBGraphData() {
        FB.api("http://graph.facebook.com/search?q=wilco/musician/band&type=page",
           function (response) {
               console.log(response);

           });
    }

    function quertFBGraphData() {
        FB.api("/278219102738",
           function (response) {
               console.log(response);

           });
    }



    */

    window.fbAsyncInit = function () {
        FB.init({
            appId: '1592694290974700',
            xfbml: true,
            version: 'v2.3'
        });

        FB.getLoginStatus(statusChangeCallback);

        FB.Event.subscribe('auth.login', statusChangeCallback);
    };


    

    (function (d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) { return; }
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));

</script>
  </head>

<body>

<div id="status">text</div>
<div
  class="fb-like"
  data-share="true"
  data-width="450"
  data-show-faces="true">

    <!--data scope asks permissions-->
<fb:login-button scope="public_profile,email,user_friends,user_about_me,user_actions.news,read_stream">
</fb:login-button>
</div>


<div id="fb-placeholder"></div>

</body>
  <script id="fb-template" type="text/x-handlebars-template">
      <h1>My Posts</h1>

      {{#each data}}

         <h2>{{message}}</h2>

            {{#if picture}}

                 <img src="{{picture}}" />
            {{/if}}

      {{/each}}




  </script></html>
